var app=angular.module("ullo",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{controller:"TestCtrl",templateUrl:"templates/test.html",title:"HomePage!"}).when("/stream",{controller:"TestCtrl",templateUrl:"templates/test.html",title:"parametro definito da me"}).when("/dishes/:dishId",{controller:"TestCtrl",templateUrl:"templates/test.html",title:"Dishes"}).when("/signin",{controller:"SignInCtrl",templateUrl:"templates/signin-test.html",title:"Sign In"}).when("/404",{controller:"TestCtrl",templateUrl:"templates/test.html",title:"Pagina non trovata!"}),t.otherwise("/404"),e.html5Mode(!0)}]),app.controller("SignInCtrl",["$scope","$timeout","$http",function(t,e,r){t.model={},t.signin=function(){t.busy=!0,r.post("http://ulloapi.wslabs.it/api/users",t.model).then(function(t){console.log("signin",t)},function(t){console.log("error",t)})["finally"](function(){e(function(){t.busy=!1},1e3)})}}]),app.controller("TestCtrl",["$scope","$timeout","$http",function(t,e,r){t.model={label:"Carica"},e(function(){t.model.label="Carica Stream"},1e3),t.item={id:117,user:{userName:"Fabio Ottaviani",facebookId:"10153341954226947",route:"fabio-ottaviani"},dish:{price:5,isVeganFriendly:!1,yes:1,no:0,created:"2016-04-27T19:13:45.497",vote:{dishId:19,like:!0,created:"2016-04-27T19:14:00.497"},categories:[{id:2,name:"Piadine",key:"piadine"}],id:19,name:"Pizza Margherita",key:"pizzaMargherita"},picture:{guid:"8fe99743-4ed3-46de-ba13-2c1bd7a45ffe",created:"2016-04-27T19:13:41.02",id:20,name:"8fe99743-4ed3-46de-ba13-2c1bd7a45ffe",route:"/Media/Files/8fe99743-4ed3-46de-ba13-2c1bd7a45ffe.jpg",key:"8Fe997434Ed346DeBa132C1bd7a45ffe"},created:"2016-04-27T19:13:45.497"},t.loadStream=function(){r.get("http://ulloapi.wslabs.it/api/stream/anonymous").then(function(e){t.items=e.data},function(t){console.log("error",t)})}}]);var LESSON=!0,CONFIG={CLIENT:0===window.location.href.indexOf("http://ulloclient.wslabs.it")?"http://ulloclient.wslabs.it":"http://dev.ullowebapp:8081",API:LESSON||0===window.location.href.indexOf("http://ulloclient.wslabs.it")?"http://ulloapi.wslabs.it":"https://localhost:44302",FACEBOOK_APP_ID:0===window.location.href.indexOf("http://ulloclient.wslabs.it")?"1054303094614120":"1062564893787940",assetTypeEnum:{Unknown:0,Picture:1},IOS:!!navigator.userAgent.match(/iPad|iPhone|iPod/g)};app.constant("APP",CONFIG),app.config(["$routeProvider","$locationProvider",function(t,e){t.when("/stream",{title:"Stream",templateUrl:"templates/stream.html",controller:"StreamCtrl",controllerAs:"streamCtrl",resolve:{user:["Users",function(t){return t.isLoggedOrGoTo("/splash")}]}}).when("/dishes/:dishId",{title:"Dish",templateUrl:"templates/dish.html",controller:"DishCtrl",controllerAs:"dishCtrl",resolve:{user:["Users",function(t){return t.isLoggedOrGoTo("/splash")}]},isForward:!0}).when("/categories/:categoryId",{title:"Category",templateUrl:"templates/category.html",controller:"CategoryCtrl",controllerAs:"categoryCtrl",resolve:{user:["Users",function(t){return t.isLoggedOrGoTo("/splash")}]},isForward:!0}).when("/users/:userRoute",{title:"User",templateUrl:"templates/user.html",controller:"UserCtrl",controllerAs:"userCtrl",resolve:{user:["Users",function(t){return t.isLoggedOrGoTo("/splash")}]},isForward:!0}).when("/post",{title:"Add Post",templateUrl:"templates/post.html",controller:"PostCtrl",controllerAs:"postCtrl",resolve:{user:["Users",function(t){return t.isLoggedOrGoTo("/splash")}]},isForward:!0}).when("/settings",{title:"Settings",templateUrl:"templates/settings.html",controller:"SettingsCtrl",controllerAs:"settingsCtrl",resolve:{user:["Users",function(t){return t.isLoggedOrGoTo("/splash")}]},isForward:!0}).when("/splash",{title:"Splash",templateUrl:"templates/splash.html",controller:"SplashCtrl",controllerAs:"splashCtrl"}).when("/signin",{title:"Sign In",templateUrl:"templates/signin.html",controller:"SigninCtrl",controllerAs:"signinCtrl"}).when("/signup",{title:"Sign Up",templateUrl:"templates/signup.html",controller:"SignupCtrl",controllerAs:"signupCtrl"}).when("/test",{title:"Test",templateUrl:"templates/dishes.html",controller:"TestCtrl",controllerAs:"testCtrl"}).when("/404",{title:"Error 404",templateUrl:"404.html"}),t.otherwise("/stream"),e.html5Mode(!0)}]),app.config(["$httpProvider",function(t){t.defaults.withCredentials=!0}]),app.filter("customCurrency",["$filter",function(t){var e=t("currency");return function(t,r){return e(t*r.ratio,r.formatting)}}]),app.filter("customSize",["APP",function(t){return function(e){if(t.unit===t.units.IMPERIAL){var r=Math.floor(e/12);return e%=12,e=Math.round(10*e)/10,(r?r+"' ":"")+(e+"''")}var n=Math.floor(e*t.size.ratio),o=e*t.size.ratio*100%100;return o=Math.round(10*o)/10,(n?n+"m ":"")+(o+"cm")}}]),app.filter("customWeight",["APP",function(t){return function(e){if(t.unit===t.units.IMPERIAL){if(1>e){var r=16*e;return r=Math.round(10*r)/10,r?r+"oz ":""}return e=Math.round(100*e)/100,e?e+"lb ":""}var n=Math.floor(e*t.weight.ratio/1e3),o=e*t.weight.ratio%1e3;return o=Math.round(10*o)/10,(n?n+"kg ":"")+(o+"g")}}]),app.filter("customNumber",["$filter",function(t){var e=t("number");return function(t,r,n){return n=n||"",t?e(t,r)+n:"-"}}]),app.filter("customDate",["$filter",function(t){var e=t("date");return function(t,r,n){return t?e(t,r,n):"-"}}]),app.filter("customTime",["$filter",function(t){return function(t,e){return t?Utils.parseTime(t):e?e:"-"}}]),app.filter("customDigital",["$filter",function(t){return function(t,e){return t?Utils.parseHour(t):e?e:"-"}}]),app.filter("customString",["$filter",function(t){return function(t,e){return t?t:e?e:"-"}}]),app.filter("customEnum",function(){return function(t){return t+=1,10>t?"0"+t:t}}),app.factory("Vector",function(){function t(t,e){this.x=t||0,this.y=e||0}return t.make=function(e,r){return new t(r.x-e.x,r.y-e.y)},t.size=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.normalize=function(e){var r=t.size(e);return e.x/=r,e.y/=r,e},t.incidence=function(t,e){var r=Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x);return r},t.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.cross=function(t,e){return t.x*e.y-t.y*e.x},t.difference=function(e,r){return new t(r.x-e.x,r.y-e.y)},t.prototype={size:function(){return t.size(this)},normalize:function(){return t.normalize(this)},incidence:function(e){return t.incidence(this,e)},cross:function(e){return t.cross(this,e)},towards:function(t,e){return e=e||.125,this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},add:function(t){return this.x+=t.x,this.y+=t.y,this},friction:function(t){return this.x*=t,this.y*=t,this},copy:function(e){return new t(this.x,this.y)},toString:function(){return"{"+this.x+","+this.y+"}"}},t}),app.factory("Utils",["Vector",function(t){function e(e,r){var n=new t;if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){var o=null,i=e.originalEvent?e.originalEvent:e,s=i.touches.length?i.touches:i.changedTouches;s&&s.length&&(o=s[0]),o&&(n.x=o.pageX,n.y=o.pageY)}else"click"!=e.type&&"mousedown"!=e.type&&"mouseup"!=e.type&&"mousemove"!=e.type&&"mouseover"!=e.type&&"mouseout"!=e.type&&"mouseenter"!=e.type&&"mouseleave"!=e.type||(n.x=e.pageX,n.y=e.pageY);return r&&(n.s=t.difference(r,n)),n.type=e.type,n}function r(e,r){var n=e[0].getBoundingClientRect(),o=new t(n.left,n.top);return t.difference(o,r)}function n(t,e){var r,n;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(t){return"function"==typeof document.body[t]?(r=t,!0):!1});null!==t;){if(n=t.parentElement,null!==n&&n[r](e))return n;t=n}return null}function o(t,e,r){var n,o,i,s=null,l=0;r||(r={});var u=function(){l=r.leading===!1?0:a(),s=null,i=t.apply(n,o),s||(n=o=null)};return function(){var c=a();l||r.leading!==!1||(l=c);var f=e-(c-l);return n=this,o=arguments,0>=f||f>e?(s&&(clearTimeout(s),s=null),l=c,i=t.apply(n,o),s||(n=o=null)):s||r.trailing===!1||(s=setTimeout(u,f)),i}}function i(){}!function(){for(var t=0,e=["ms","moz","webkit","o"],r=0;r<e.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[e[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[r]+"CancelAnimationFrame"]||window[e[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,r){var n=(new Date).getTime(),o=Math.max(0,16-(n-t)),i=window.setTimeout(function(){e(n+o)},o);return t=n+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var s=function(){var t="transform",e="webkitTransform",r=document.createElement("DIV");return"undefined"!=typeof r.style[t]?["webkit","moz","o","ms"].every(function(e){var n="-"+e+"-transform";return"undefined"!=typeof r.style[n]?(t=n,!1):!0}):t="undefined"!=typeof r.style[e]?"-webkit-transform":void 0,t}(),a=Date.now||function(){return(new Date).getTime()},l=function(){function t(){this.props={scale:1,hoverScale:1,currentScale:1}}return t.prototype={set:function(t){var e=[];angular.forEach(this,function(t,r){"props"!==r&&e.push(r+":"+t)}),t.style.cssText=e.join(";")+";"},transform:function(t){this[i.transformProperty]=t},transformOrigin:function(t,e){this[i.transformProperty+"-origin-x"]=Math.round(1e3*t)/1e3+"%",this[i.transformProperty+"-origin-y"]=Math.round(1e3*e)/1e3+"%"}},t}();return i.transformProperty=s,i.getTouch=e,i.getRelativeTouch=r,i.getClosest=n,i.throttle=o,i.Style=l,i}]),app.factory("WebWorker",["$q","$http",function($q,$http){function WebWorker(t){var e=this;this.callbacks={},this.id=0,this.worker=new Worker(t),this.worker.onmessage=function(t){e.onmessage(t)}}var isWebWorkerSupported="undefined"!=typeof Worker;return isWebWorkerSupported||(window.Worker=function(){function Worker(src){var self=this;$http.get(src,{transformResponse:function(t,e){return t}}).then(function success(response){try{eval("self.o = function(){ function postMessage(e) { self.onmessage({data:e}); }\n "+response.data+" };"),self.object=new self.o,self.object.postMessage=function(t){self.onmessage({data:t})}}catch(e){console.log("Worker error ",e)}},function(t){console.log("Worker not found")})}return Worker.prototype={onmessage:function(t){console.log("Worker not implemented")},postMessage:function(t){this.object.onmessage({data:t})}},Worker}()),WebWorker.prototype={parse:function(t){return JSON.parse(t.data)},stringify:function(t){return JSON.stringify(t)},onmessage:function(t){var e=this.parse(t),r=this.callbacks[e.id];-1!==e.status?r.resolve(e):r.reject(e),delete this.callbacks[e.id]},post:function(t){var e=$q.defer();return t.id=this.id,this.callbacks[this.id.toString()]=e,this.id++,this.worker.postMessage(this.stringify(t)),e.promise}},WebWorker.isSupported=isWebWorkerSupported,WebWorker}]),app.factory("$httpAsync",["$q","$http",function(t,e){function r(e){var n=t.defer(),o=l(e);return o.id=p.toString(),console.log("wrap",o),f[o.id]=n,p++,c.postMessage(r.stringify(o)),n.promise}function n(t){return t>=200&&300>t}function o(){return Object.create(null)}function i(t){return"string"==typeof t}function s(t){function e(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}var r,n=o();if(i(t))for(var s=t.split("\n"),a=0;a<s.length;a++){var l=s[a];r=l.indexOf(":"),e(d(h(l.substr(0,r))),h(l.substr(r+1)))}else if(isObject(t))for(var u in t)e(d(u),h(t[u]));return n}function a(t){var e;return function(r){if(e||(e=s(t)),r){var n=e[d(r)];return void 0===n&&(n=null),n}return e}}function l(t){var r={method:"GET",withCredentials:!1,responseType:"json",headers:{},config:{}};r.withCredentials=e.defaults.withCredentials,angular.extend(r.headers,e.defaults.headers.common);var n=(t.method||r.method).toLowerCase();return e.defaults.headers[n]&&angular.extend(r.headers,e.defaults.headers[n]),console.log("defaults",e.defaults),t?t=angular.extend(r,t):r,t}var u="undefined"!=typeof Worker;if(!u)return e;var c=new Worker("/js/workers/http.min.js"),f={},p=0,d=function(t){return i(t)?t.toLowerCase():t},h=function(t){return i(t)?t.trim():t};return r.get=function(t,e){return r(angular.extend({},e||{},{method:"GET",url:t}))},r["delete"]=function(t,e){return r(angular.extend({},e||{},{method:"DELETE",url:t}))},r.head=function(t,e){return r(angular.extend({},e||{},{method:"HEAD",url:t}))},r.post=function(t,e,n){return r(angular.extend({},n||{},{method:"POST",data:e,url:t}))},r.put=function(t,e,n){return r(angular.extend({},n||{},{method:"PUT",data:e,url:t}))},r.patch=function(t,e,n){return r(angular.extend({},n||{},{method:"PATCH",data:e,url:t}))},r.parse=function(t){return JSON.parse(t.data)},r.stringify=function(t){return JSON.stringify(t)},r.isSupported=u,c.onmessage=function(t){var e=r.parse(t);console.log("onmessage",e);var o=f[e.id],i=e.status>=-1?e.status:0,s=a(e.response.headers);(n(i)?o.resolve:o.reject)({data:e.response.data,headers:s,status:e.response.status,statusText:e.response.statusText,config:e.config}),delete f[e.id]},r}]);
//# sourceMappingURL=app.min.js.map
