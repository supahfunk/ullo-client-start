var LESSON=!0,CONFIG={CLIENT:0===window.location.href.indexOf("http://ulloclient.wslabs.it")?"http://ulloclient.wslabs.it":"http://dev.ullowebapp:8081",API:LESSON||0===window.location.href.indexOf("http://ulloclient.wslabs.it")?"http://ulloapi.wslabs.it":"https://localhost:44302",FACEBOOK_APP_ID:0===window.location.href.indexOf("http://ulloclient.wslabs.it")?"1054303094614120":"1062564893787940",assetTypeEnum:{Unknown:0,Picture:1},IOS:!!navigator.userAgent.match(/iPad|iPhone|iPod/g)};app.factory("Vector",function(){function e(e,t){this.x=e||0,this.y=t||0}return e.make=function(t,n){return new e(n.x-t.x,n.y-t.y)},e.size=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.normalize=function(t){var n=e.size(t);return t.x/=n,t.y/=n,t},e.incidence=function(e,t){var n=Math.atan2(t.y,t.x)-Math.atan2(e.y,e.x);return n},e.distance=function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},e.cross=function(e,t){return e.x*t.y-e.y*t.x},e.difference=function(t,n){return new e(n.x-t.x,n.y-t.y)},e.prototype={size:function(){return e.size(this)},normalize:function(){return e.normalize(this)},incidence:function(t){return e.incidence(this,t)},cross:function(t){return e.cross(this,t)},towards:function(e,t){return t=t||.125,this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},add:function(e){return this.x+=e.x,this.y+=e.y,this},friction:function(e){return this.x*=e,this.y*=e,this},copy:function(t){return new e(this.x,this.y)},toString:function(){return"{"+this.x+","+this.y+"}"}},e}),app.factory("Utils",["Vector",function(e){function t(t,n){var r=new e;if("touchstart"==t.type||"touchmove"==t.type||"touchend"==t.type||"touchcancel"==t.type){var o=null,i=t.originalEvent?t.originalEvent:t,s=i.touches.length?i.touches:i.changedTouches;s&&s.length&&(o=s[0]),o&&(r.x=o.pageX,r.y=o.pageY)}else"click"!=t.type&&"mousedown"!=t.type&&"mouseup"!=t.type&&"mousemove"!=t.type&&"mouseover"!=t.type&&"mouseout"!=t.type&&"mouseenter"!=t.type&&"mouseleave"!=t.type||(r.x=t.pageX,r.y=t.pageY);return n&&(r.s=e.difference(n,r)),r.type=t.type,r}function n(t,n){var r=t[0].getBoundingClientRect(),o=new e(r.left,r.top);return e.difference(o,n)}function r(e,t){var n,r;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(n=e,!0):!1});null!==e;){if(r=e.parentElement,null!==r&&r[n](t))return r;e=r}return null}function o(e,t,n){var r,o,i,s=null,u=0;n||(n={});var c=function(){u=n.leading===!1?0:a(),s=null,i=e.apply(r,o),s||(r=o=null)};return function(){var f=a();u||n.leading!==!1||(u=f);var l=t-(f-u);return r=this,o=arguments,0>=l||l>t?(s&&(clearTimeout(s),s=null),u=f,i=e.apply(r,o),s||(r=o=null)):s||n.trailing===!1||(s=setTimeout(c,l)),i}}function i(){}!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),i=window.setTimeout(function(){t(r+o)},o);return e=r+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var s=function(){var e="transform",t="webkitTransform",n=document.createElement("DIV");return"undefined"!=typeof n.style[e]?["webkit","moz","o","ms"].every(function(t){var r="-"+t+"-transform";return"undefined"!=typeof n.style[r]?(e=r,!1):!0}):e="undefined"!=typeof n.style[t]?"-webkit-transform":void 0,e}(),a=Date.now||function(){return(new Date).getTime()},u=function(){function e(){this.props={scale:1,hoverScale:1,currentScale:1}}return e.prototype={set:function(e){var t=[];angular.forEach(this,function(e,n){"props"!==n&&t.push(n+":"+e)}),e.style.cssText=t.join(";")+";"},transform:function(e){this[i.transformProperty]=e},transformOrigin:function(e,t){this[i.transformProperty+"-origin-x"]=Math.round(1e3*e)/1e3+"%",this[i.transformProperty+"-origin-y"]=Math.round(1e3*t)/1e3+"%"}},e}();return i.transformProperty=s,i.getTouch=t,i.getRelativeTouch=n,i.getClosest=r,i.throttle=o,i.Style=u,i}]),app.factory("WebWorker",["$q","$http",function($q,$http){function WebWorker(e){var t=this;this.callbacks={},this.id=0,this.worker=new Worker(e),this.worker.onmessage=function(e){t.onmessage(e)}}var isWebWorkerSupported="undefined"!=typeof Worker;return isWebWorkerSupported||(window.Worker=function(){function Worker(src){var self=this;$http.get(src,{transformResponse:function(e,t){return e}}).then(function success(response){try{eval("self.o = function(){ function postMessage(e) { self.onmessage({data:e}); }\n "+response.data+" };"),self.object=new self.o,self.object.postMessage=function(e){self.onmessage({data:e})}}catch(e){console.log("Worker error ",e)}},function(e){console.log("Worker not found")})}return Worker.prototype={onmessage:function(e){console.log("Worker not implemented")},postMessage:function(e){this.object.onmessage({data:e})}},Worker}()),WebWorker.prototype={parse:function(e){return JSON.parse(e.data)},stringify:function(e){return JSON.stringify(e)},onmessage:function(e){var t=this.parse(e),n=this.callbacks[t.id];-1!==t.status?n.resolve(t):n.reject(t),delete this.callbacks[t.id]},post:function(e){var t=$q.defer();return e.id=this.id,this.callbacks[this.id.toString()]=t,this.id++,this.worker.postMessage(this.stringify(e)),t.promise}},WebWorker.isSupported=isWebWorkerSupported,WebWorker}]),app.factory("$httpAsync",["$q","$http",function(e,t){function n(t){var r=e.defer(),o=u(t);return o.id=d.toString(),console.log("wrap",o),l[o.id]=r,d++,f.postMessage(n.stringify(o)),r.promise}function r(e){return e>=200&&300>e}function o(){return Object.create(null)}function i(e){return"string"==typeof e}function s(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=o();if(i(e))for(var s=e.split("\n"),a=0;a<s.length;a++){var u=s[a];n=u.indexOf(":"),t(h(p(u.substr(0,n))),p(u.substr(n+1)))}else if(isObject(e))for(var c in e)t(h(c),p(e[c]));return r}function a(e){var t;return function(n){if(t||(t=s(e)),n){var r=t[h(n)];return void 0===r&&(r=null),r}return t}}function u(e){var n={method:"GET",withCredentials:!1,responseType:"json",headers:{},config:{}};n.withCredentials=t.defaults.withCredentials,angular.extend(n.headers,t.defaults.headers.common);var r=(e.method||n.method).toLowerCase();return t.defaults.headers[r]&&angular.extend(n.headers,t.defaults.headers[r]),console.log("defaults",t.defaults),e?e=angular.extend(n,e):n,e}var c="undefined"!=typeof Worker;if(!c)return t;var f=new Worker("/js/workers/http.min.js"),l={},d=0,h=function(e){return i(e)?e.toLowerCase():e},p=function(e){return i(e)?e.trim():e};return n.get=function(e,t){return n(angular.extend({},t||{},{method:"GET",url:e}))},n["delete"]=function(e,t){return n(angular.extend({},t||{},{method:"DELETE",url:e}))},n.head=function(e,t){return n(angular.extend({},t||{},{method:"HEAD",url:e}))},n.post=function(e,t,r){return n(angular.extend({},r||{},{method:"POST",data:t,url:e}))},n.put=function(e,t,r){return n(angular.extend({},r||{},{method:"PUT",data:t,url:e}))},n.patch=function(e,t,r){return n(angular.extend({},r||{},{method:"PATCH",data:t,url:e}))},n.parse=function(e){return JSON.parse(e.data)},n.stringify=function(e){return JSON.stringify(e)},n.isSupported=c,f.onmessage=function(e){var t=n.parse(e);console.log("onmessage",t);var o=l[t.id],i=t.status>=-1?t.status:0,s=a(t.response.headers);(r(i)?o.resolve:o.reject)({data:t.response.data,headers:s,status:t.response.status,statusText:t.response.statusText,config:t.config}),delete l[t.id]},n}]);
//# sourceMappingURL=app.min.js.map
