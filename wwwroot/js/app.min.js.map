{"version":3,"sources":["wwwroot/js/app.js"],"names":["app","angular","module","config","$routeProvider","$locationProvider","when","controller","templateUrl","title","otherwise","html5Mode","$scope","$timeout","$http","model","signin","busy","post","then","success","console","log","error","label","item","id","user","userName","facebookId","route","dish","price","isVeganFriendly","yes","no","created","vote","dishId","like","categories","name","key","picture","guid","loadStream","get","items","data","LESSON","CONFIG","CLIENT","window","location","href","indexOf","API","FACEBOOK_APP_ID","assetTypeEnum","Unknown","Picture","IOS","navigator","userAgent","match","constant","controllerAs","resolve","Users","isLoggedOrGoTo","isForward","$httpProvider","defaults","withCredentials","filter","$filter","legacyFilter","cost","currency","ratio","formatting","APP","inches","unit","units","IMPERIAL","feet","Math","floor","round","meters","size","cm","pounds","oz","kg","weight","grams","value","precision","format","timezone","placeholder","Utils","parseTime","parseHour","val","factory","Vector","x","y","this","make","a","b","sqrt","normalize","l","incidence","angle","atan2","distance","cross","difference","prototype","towards","friction","add","copy","toString","getTouch","e","previous","t","type","touch","event","originalEvent","touches","length","changedTouches","pageX","pageY","s","getRelativeTouch","element","point","rect","getBoundingClientRect","left","top","getClosest","el","selector","matchesFn","parent","some","fn","document","body","parentElement","throttle","func","wait","options","context","args","result","timeout","later","leading","getNow","apply","now","remaining","arguments","clearTimeout","trailing","setTimeout","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","max","transformProperty","safariPropertyHack","div","createElement","style","every","prefix","undefined","Style","props","scale","hoverScale","currentScale","set","styles","forEach","push","cssText","join","transform","transformOrigin","$q","WebWorker","src","self","callbacks","worker","Worker","onmessage","isWebWorkerSupported","transformResponse","d","h","response","eval","object","o","postMessage","parse","JSON","stringify","deferred","status","reject","defer","promise","isSupported","$httpAsync","wrap","getDefaults","isSuccess","createMap","Object","create","isString","parseHeaders","headers","fillInParsed","parsed","i","split","j","line","lowercase","trim","substr","isObject","p","headersGetter","headersObj","method","responseType","extend","common","toLowerCase","string","url","head","put","patch","getter","statusText"],"mappings":"AAEA,GAAIA,KAAMC,QAAQC,OAAO,QAAS,WAGlCF,KAAIG,QAAQ,iBAAkB,oBAAqB,SAASC,EAAgBC,GAExED,EAAeE,KAAK,KACjBC,WAAY,WACZC,YAAa,sBACbC,MAAO,cACPH,KAAK,WACLC,WAAY,WACZC,YAAa,sBACbC,MAAO,6BACPH,KAAK,mBACJC,WAAY,WACZC,YAAa,sBACbC,MAAO,WACRH,KAAK,WACJC,WAAY,aACZC,YAAa,6BACbC,MAAO,YACRH,KAAK,QACLC,WAAY,WACZC,YAAa,sBACbC,MAAO,wBAGVL,EAAeM,UAAU,QAEzBL,EAAkBM,WAAU,MAKhCX,IAAIO,WAAW,cAAe,SAAU,WAAY,QAAS,SAAUK,EAAQC,EAAUC,GAErFF,EAAOG,SAEPH,EAAOI,OAAS,WAEZJ,EAAOK,MAAO,EAEdH,EAAMI,KAAK,qCAAsCN,EAAOG,OAAOI,KAAK,SAAUC,GAC1EC,QAAQC,IAAI,SAAUF,IACvB,SAAUG,GACTF,QAAQC,IAAI,QAASC,KAHzBT,WAIW,WACPD,EAAS,WACLD,EAAOK,MAAO,GACf,WAUfjB,IAAIO,WAAW,YAAa,SAAU,WAAY,QAAS,SAAUK,EAAQC,EAAUC,GAEnFF,EAAOG,OACHS,MAAO,UAGXX,EAAS,WACLD,EAAOG,MAAMS,MAAQ,iBACtB,KAEHZ,EAAOa,MACHC,GAAI,IACJC,MACIC,SAAU,kBACVC,WAAY,oBACZC,MAAO,mBAEXC,MACIC,MAAO,EACPC,iBAAiB,EACjBC,IAAK,EACLC,GAAI,EACJC,QAAS,0BACTC,MACIC,OAAQ,GACRC,MAAM,EACNH,QAAS,2BAEbI,aAEQd,GAAI,EACJe,KAAM,UACNC,IAAK,YAGbhB,GAAI,GACJe,KAAM,mBACNC,IAAK,mBAETC,SACIC,KAAM,uCACNR,QAAS,yBACTV,GAAI,GACJe,KAAM,uCACNX,MAAO,wDACPY,IAAK,oCAETN,QAAS,2BAGbxB,EAAOiC,WAAa,WAChB/B,EAAMgC,IAAI,iDAAiD3B,KAAK,SAASC,GACrER,EAAOmC,MAAQ3B,EAAQ4B,MACxB,SAASzB,GACRF,QAAQC,IAAI,QAASC,QAWjC,IAAI0B,SAAS,EACTC,QACAC,OAAwE,IAAhEC,OAAOC,SAASC,KAAKC,QAAQ,+BAAuC,8BAAgC,6BAC5GC,IAAMP,QAA0E,IAAhEG,OAAOC,SAASC,KAAKC,QAAQ,+BAAwC,2BAA6B,0BAClHE,gBAAiF,IAAhEL,OAAOC,SAASC,KAAKC,QAAQ,+BAAuC,mBAAqB,mBAC1GG,eACIC,QAAS,EACTC,QAAS,GAEbC,MAAMC,UAAUC,UAAUC,MAAM,qBAGpChE,KAAIiE,SAAS,MAAOf,QAEpBlD,IAAIG,QAAQ,iBAAkB,oBAAqB,SAAUC,EAAgBC,GAGzED,EAAeE,KAAK,WAChBG,MAAO,SACPD,YAAa,wBACbD,WAAY,aACZ2D,aAAc,aACdC,SACIxC,MAAO,QAAS,SAASyC,GACrB,MAAOA,GAAMC,eAAe,gBAIrC/D,KAAK,mBACJG,MAAO,OACPD,YAAa,sBACbD,WAAY,WACZ2D,aAAc,WACdC,SACIxC,MAAO,QAAS,SAASyC,GACrB,MAAOA,GAAMC,eAAe,cAGpCC,WAAW,IAEZhE,KAAK,2BACJG,MAAO,WACPD,YAAa,0BACbD,WAAY,eACZ2D,aAAc,eACdC,SACIxC,MAAO,QAAS,SAASyC,GACrB,MAAOA,GAAMC,eAAe,cAGpCC,WAAW,IAEZhE,KAAK,qBACJG,MAAO,OACPD,YAAa,sBACbD,WAAY,WACZ2D,aAAc,WACdC,SACIxC,MAAO,QAAS,SAASyC,GACrB,MAAOA,GAAMC,eAAe,cAGpCC,WAAW,IAEZhE,KAAK,SACJG,MAAO,WACPD,YAAa,sBACbD,WAAY,WACZ2D,aAAc,WACdC,SACIxC,MAAO,QAAS,SAASyC,GACrB,MAAOA,GAAMC,eAAe,cAGpCC,WAAW,IAEZhE,KAAK,aACJG,MAAO,WACPD,YAAa,0BACbD,WAAY,eACZ2D,aAAc,eACdC,SACIxC,MAAO,QAAS,SAASyC,GACrB,MAAOA,GAAMC,eAAe,cAGpCC,WAAW,IAGZhE,KAAK,WACJG,MAAO,SACPD,YAAa,wBACbD,WAAY,aACZ2D,aAAc,eAEf5D,KAAK,WACJG,MAAO,UACPD,YAAa,wBACbD,WAAY,aACZ2D,aAAc,eAEf5D,KAAK,WACJG,MAAO,UACPD,YAAa,wBACbD,WAAY,aACZ2D,aAAc,eAEf5D,KAAK,SACJG,MAAO,OACPD,YAAa,wBACbD,WAAY,WACZ2D,aAAc,aAEf5D,KAAK,QAEJG,MAAO,YACPD,YAAa,aAIjBJ,EAAeM,UAAU,WAGzBL,EAAkBM,WAAU,MAIhCX,IAAIG,QAAQ,gBAAiB,SAAUoE,GAEnCA,EAAcC,SAASC,iBAAkB,KAS7CzE,IAAI0E,OAAO,kBAAmB,UAAW,SAAUC,GAC/C,GAAIC,GAAeD,EAAQ,WAC3B,OAAO,UAAUE,EAAMC,GACnB,MAAOF,GAAaC,EAAOC,EAASC,MAAOD,EAASE,gBAI5DhF,IAAI0E,OAAO,cAAe,MAAO,SAAUO,GACvC,MAAO,UAAUC,GACb,GAAID,EAAIE,OAASF,EAAIG,MAAMC,SAAU,CACjC,GAAIC,GAAOC,KAAKC,MAAMN,EAAS,GAG/B,OAFAA,IAAkB,GAClBA,EAASK,KAAKE,MAAe,GAATP,GAAe,IAC3BI,EAAOA,EAAO,KAAQ,KAAOJ,EAAS,MAE9C,GAAIQ,GAASH,KAAKC,MAAMN,EAASD,EAAIU,KAAKZ,OACtCa,EAAMV,EAASD,EAAIU,KAAKZ,MAAQ,IAAO,GAE3C,OADAa,GAAKL,KAAKE,MAAW,GAALG,GAAW,IACnBF,EAASA,EAAS,KAAO,KAAOE,EAAK,UAKzD5F,IAAI0E,OAAO,gBAAiB,MAAO,SAAUO,GACzC,MAAO,UAAUY,GACb,GAAIZ,EAAIE,OAASF,EAAIG,MAAMC,SAAU,CACjC,GAAa,EAATQ,EAAY,CACZ,GAAIC,GAAc,GAATD,CAET,OADAC,GAAKP,KAAKE,MAAW,GAALK,GAAW,GACnBA,EAAKA,EAAK,MAAQ,GAG1B,MADAD,GAASN,KAAKE,MAAe,IAATI,GAAgB,IAC5BA,EAASA,EAAS,MAAQ,GAGtC,GAAIE,GAAKR,KAAKC,MAAMK,EAASZ,EAAIe,OAAOjB,MAAQ,KAC5CkB,EAASJ,EAASZ,EAAIe,OAAOjB,MAAS,GAE1C,OADAkB,GAAQV,KAAKE,MAAc,GAARQ,GAAc,IACzBF,EAAKA,EAAK,MAAQ,KAAOE,EAAQ,SAKrDjG,IAAI0E,OAAO,gBAAiB,UAAW,SAAUC,GAC7C,GAAID,GAASC,EAAQ,SACrB,OAAO,UAAUuB,EAAOC,EAAWhB,GAE/B,MADAA,GAAOA,GAAQ,GACPe,EAAQxB,EAAOwB,EAAOC,GAAahB,EAAO,QAI1DnF,IAAI0E,OAAO,cAAe,UAAW,SAAUC,GAC3C,GAAID,GAASC,EAAQ,OACrB,OAAO,UAAUuB,EAAOE,EAAQC,GAC5B,MAAOH,GAAQxB,EAAOwB,EAAOE,EAAQC,GAAY,QAIzDrG,IAAI0E,OAAO,cAAe,UAAW,SAAUC,GAC3C,MAAO,UAAUuB,EAAOI,GACpB,MAAIJ,GACOK,MAAMC,UAAUN,GAEfI,EAAcA,EAAc,QAKhDtG,IAAI0E,OAAO,iBAAkB,UAAW,SAAUC,GAC9C,MAAO,UAAUuB,EAAOI,GACpB,MAAIJ,GACOK,MAAME,UAAUP,GAEfI,EAAcA,EAAc,QAKhDtG,IAAI0E,OAAO,gBAAiB,UAAW,SAAUC,GAC7C,MAAO,UAAUuB,EAAOI,GACpB,MAAOJ,GAAQA,EAASI,EAAcA,EAAc,QAI5DtG,IAAI0E,OAAO,aAAc,WACrB,MAAO,UAAUgC,GAEb,MADAA,IAAY,EACC,GAANA,EAAW,IAAMA,EAAMA,KAUtC1G,IAAI2G,QAAQ,SAAU,WACrB,QAASC,GAAOC,EAAGC,GACZC,KAAKF,EAAIA,GAAK,EACdE,KAAKD,EAAIA,GAAK,EAiElB,MA/DAF,GAAOI,KAAO,SAAUC,EAAGC,GACvB,MAAO,IAAIN,GAAOM,EAAEL,EAAII,EAAEJ,EAAGK,EAAEJ,EAAIG,EAAEH,IAEzCF,EAAOjB,KAAO,SAAUsB,GACpB,MAAO1B,MAAK4B,KAAKF,EAAEJ,EAAII,EAAEJ,EAAII,EAAEH,EAAIG,EAAEH,IAEzCF,EAAOQ,UAAY,SAAUH,GACzB,GAAII,GAAIT,EAAOjB,KAAKsB,EAGpB,OAFAA,GAAEJ,GAAKQ,EACPJ,EAAEH,GAAKO,EACAJ,GAEXL,EAAOU,UAAY,SAAUL,EAAGC,GAC5B,GAAIK,GAAQhC,KAAKiC,MAAMN,EAAEJ,EAAGI,EAAEL,GAAKtB,KAAKiC,MAAMP,EAAEH,EAAGG,EAAEJ,EAGrD,OAAOU,IAEXX,EAAOa,SAAW,SAAUR,EAAGC,GAC3B,MAAO3B,MAAK4B,MAAMF,EAAEJ,EAAIK,EAAEL,IAAMI,EAAEJ,EAAIK,EAAEL,IAAMI,EAAEH,EAAII,EAAEJ,IAAMG,EAAEH,EAAII,EAAEJ,KAExEF,EAAOc,MAAQ,SAAUT,EAAGC,GACxB,MAAQD,GAAEJ,EAAIK,EAAEJ,EAAMG,EAAEH,EAAII,EAAEL,GAElCD,EAAOe,WAAa,SAAUV,EAAGC,GAC7B,MAAO,IAAIN,GAAOM,EAAEL,EAAII,EAAEJ,EAAGK,EAAEJ,EAAIG,EAAEH,IAEzCF,EAAOgB,WACHjC,KAAM,WACF,MAAOiB,GAAOjB,KAAKoB,OAEvBK,UAAW,WACP,MAAOR,GAAOQ,UAAUL,OAE5BO,UAAW,SAAUJ,GACjB,MAAON,GAAOU,UAAUP,KAAMG,IAElCQ,MAAO,SAAUR,GACb,MAAON,GAAOc,MAAMX,KAAMG,IAE9BW,QAAS,SAAUX,EAAGY,GAIlB,MAHAA,GAAWA,GAAY,KACvBf,KAAKF,IAAMK,EAAEL,EAAIE,KAAKF,GAAKiB,EAC3Bf,KAAKD,IAAMI,EAAEJ,EAAIC,KAAKD,GAAKgB,EACpBf,MAEXgB,IAAK,SAAUb,GAGX,MAFAH,MAAKF,GAAKK,EAAEL,EACZE,KAAKD,GAAKI,EAAEJ,EACLC,MAEXe,SAAU,SAAUZ,GAGhB,MAFAH,MAAKF,GAAKK,EACVH,KAAKD,GAAKI,EACHH,MAEXiB,KAAM,SAAUd,GACZ,MAAO,IAAIN,GAAOG,KAAKF,EAAGE,KAAKD,IAEnCmB,SAAU,WACN,MAAO,IAAMlB,KAAKF,EAAI,IAAME,KAAKD,EAAI,MAGtCF,IAGX5G,IAAI2G,QAAQ,SAAU,SAAU,SAAUC,GAyDtC,QAASsB,GAASC,EAAGC,GACjB,GAAIC,GAAI,GAAIzB,EACZ,IAAc,cAAVuB,EAAEG,MAAkC,aAAVH,EAAEG,MAAiC,YAAVH,EAAEG,MAAgC,eAAVH,EAAEG,KAAuB,CACpG,GAAIC,GAAQ,KACRC,EAAQL,EAAEM,cAAgBN,EAAEM,cAAgBN,EAC5CO,EAAUF,EAAME,QAAQC,OAASH,EAAME,QAAUF,EAAMI,cACvDF,IAAWA,EAAQC,SACnBJ,EAAQG,EAAQ,IAEhBH,IACAF,EAAExB,EAAI0B,EAAMM,MACZR,EAAEvB,EAAIyB,EAAMO,WAEC,SAAVX,EAAEG,MAA6B,aAAVH,EAAEG,MAAiC,WAAVH,EAAEG,MAA+B,aAAVH,EAAEG,MAAiC,aAAVH,EAAEG,MAAiC,YAAVH,EAAEG,MAAgC,cAAVH,EAAEG,MAAkC,cAAVH,EAAEG,OAClLD,EAAExB,EAAIsB,EAAEU,MACRR,EAAEvB,EAAIqB,EAAEW,MAMZ,OAJIV,KACAC,EAAEU,EAAInC,EAAOe,WAAWS,EAAUC,IAEtCA,EAAEC,KAAOH,EAAEG,KACJD,EAGX,QAASW,GAAiBC,EAASC,GAC/B,GAAIC,GAAOF,EAAQ,GAAGG,wBAClBjB,EAAI,GAAIvB,GAAOuC,EAAKE,KAAOF,EAAKG,IACpC,OAAO1C,GAAOe,WAAWQ,EAAGe,GAGhC,QAASK,GAAWC,EAAIC,GACpB,GAAIC,GAAWC,CAQf,MAPC,UAAW,wBAAyB,qBAAsB,oBAAqB,oBAAoBC,KAAK,SAAUC,GAC/G,MAAgC,kBAArBC,UAASC,KAAKF,IACrBH,EAAYG,GACL,IAEJ,IAEG,OAAPL,GAAa,CAEhB,GADAG,EAASH,EAAGQ,cACG,OAAXL,GAAmBA,EAAOD,GAAWD,GACrC,MAAOE,EAEXH,GAAKG,EAET,MAAO,MAQX,QAASM,GAASC,EAAMC,EAAMC,GAM1B,GAAIC,GAASC,EAAMC,EACfC,EAAU,KACVpC,EAAW,CACVgC,KAASA,KACd,IAAIK,GAAQ,WACRrC,EAAWgC,EAAQM,WAAY,EAAQ,EAAIC,IAC3CH,EAAU,KACVD,EAASL,EAAKU,MAAMP,EAASC,GACxBE,IAASH,EAAUC,EAAO,MAEnC,OAAO,YACH,GAAIO,GAAMF,GACLvC,IAAYgC,EAAQM,WAAY,IAAOtC,EAAWyC,EACvD,IAAIC,GAAYX,GAAQU,EAAMzC,EAc9B,OAbAiC,GAAUtD,KACVuD,EAAOS,UACU,GAAbD,GAAkBA,EAAYX,GAC1BK,IACAQ,aAAaR,GACbA,EAAU,MAEdpC,EAAWyC,EACXN,EAASL,EAAKU,MAAMP,EAASC,GACxBE,IAASH,EAAUC,EAAO,OACvBE,GAAWJ,EAAQa,YAAa,IACxCT,EAAUU,WAAWT,EAAOK,IAEzBP,GAgCf,QAAShE,OA/KR,WAGG,IAAK,GAFD4E,GAAW,EACXC,GAAW,KAAM,MAAO,SAAU,KAC7BvE,EAAI,EAAGA,EAAIuE,EAAQzC,SAAWvF,OAAOiI,wBAAyBxE,EACnEzD,OAAOiI,sBAAwBjI,OAAOgI,EAAQvE,GAAK,yBACnDzD,OAAOkI,qBAAuBlI,OAAOgI,EAAQvE,GAAK,yBACpBzD,OAAOgI,EAAQvE,GAAK,8BAEjDzD,QAAOiI,wBACRjI,OAAOiI,sBAAwB,SAAUE,EAAUtC,GAC/C,GAAIuC,IAAW,GAAIC,OAAOC,UACtBC,EAAapG,KAAKqG,IAAI,EAAG,IAAMJ,EAAWL,IAC1CzJ,EAAK0B,OAAO8H,WAAW,WAAcK,EAASC,EAAWG,IAAgBA,EAE7E,OADAR,GAAWK,EAAWG,EACfjK,IAGV0B,OAAOkI,uBACRlI,OAAOkI,qBAAuB,SAAU5J,GACpCsJ,aAAatJ,OAKzB,IAAImK,GAAoB,WACpB,GAAIA,GAAoB,YACpBC,EAAqB,kBAC3BC,EAAMjC,SAASkC,cAAc,MAe3B,OAd4C,mBAAjCD,GAAIE,MAAMJ,IAChB,SAAU,MAAO,IAAK,MAAMK,MAAM,SAASC,GACxC,GAAIhE,GAAI,IAAMgE,EAAS,YACvB,OAA4B,mBAAjBJ,GAAIE,MAAM9D,IACjB0D,EAAoB1D,GACb,IAEJ,IAGX0D,EADgD,mBAAlCE,GAAIE,MAAMH,GACJ,oBAEAM,OAEjBP,KAgEPlB,EAASc,KAAKZ,KAAO,WACrB,OAAO,GAAIY,OAAOC,WAwClBW,EAAQ,WACR,QAASA,KACLtF,KAAKuF,OACDC,MAAO,EACPC,WAAY,EACZC,aAAc,GAoBtB,MAjBAJ,GAAMzE,WACF8E,IAAK,SAAUzD,GACX,GAAI0D,KACJ1M,SAAQ2M,QAAQ7F,KAAM,SAAUb,EAAOxD,GACvB,UAARA,GACAiK,EAAOE,KAAKnK,EAAM,IAAMwD,KAEhC+C,EAAQgD,MAAMa,QAAUH,EAAOI,KAAK,KAAO,KAE/CC,UAAW,SAAUA,GACjBjG,KAAKR,EAAMsF,mBAAqBmB,GAEpCC,gBAAiB,SAAUpG,EAAGC,GAC1BC,KAAKR,EAAMsF,kBAAoB,aAAgBtG,KAAKE,MAAU,IAAJoB,GAAY,IAAQ,IAC9EE,KAAKR,EAAMsF,kBAAoB,aAAgBtG,KAAKE,MAAU,IAAJqB,GAAY,IAAQ,MAG/EuF,IAaX,OAPH9F,GAAMsF,kBAAoBA,EACvBtF,EAAM2B,SAAWA,EACjB3B,EAAMyC,iBAAmBA,EACzBzC,EAAMgD,WAAaA,EACnBhD,EAAM0D,SAAWA,EACjB1D,EAAM8F,MAAQA,EAEP9F,KAKXvG,IAAI2G,QAAQ,aAAc,KAAM,QAAS,SAAUuG,GAAIpM,OA+BnD,QAASqM,WAAUC,GACf,GAAIC,GAAOtG,IACXA,MAAKuG,aACLvG,KAAKrF,GAAK,EACVqF,KAAKwG,OAAS,GAAIC,QAAOJ,GACzBrG,KAAKwG,OAAOE,UAAY,SAAUtF,GAC9BkF,EAAKI,UAAUtF,IApCvB,GAAIuF,sBAA4C,mBAAb,OAkEnC,OAjEKA,wBACDtK,OAAOoK,OAAS,WACZ,QAASA,QAAOJ,KACZ,GAAIC,MAAOtG,IACXjG,OAAMgC,IAAIsK,KAAOO,kBAAmB,SAAUC,EAAGC,GAAK,MAAOD,MAAOzM,KAAK,QAASC,SAAQ0M,UACtF,IACIC,KAAK,gFAAkFD,SAAS9K,KAAO,OACvGqK,KAAKW,OAAS,GAAIX,MAAKY,EACvBZ,KAAKW,OAAOE,YAAc,SAAU/F,GAChCkF,KAAKI,WAAWzK,KAAKmF,KAE3B,MAAMA,GACJ9G,QAAQC,IAAI,gBAAiB6G,KAElC,SAAe2F,GACdzM,QAAQC,IAAI,sBAWpB,MARAkM,QAAO5F,WACH6F,UAAW,SAAUtF,GACjB9G,QAAQC,IAAI,2BAEhB4M,YAAa,SAAU/F,GACnBpB,KAAKiH,OAAOP,WAAYzK,KAAMmF,MAG/BqF,WAYfL,UAAUvF,WACNuG,MAAO,SAAUhG,GACb,MAAOiG,MAAKD,MAAMhG,EAAEnF,OAExBqL,UAAW,SAAUrL,GACjB,MAAOoL,MAAKC,UAAUrL,IAE1ByK,UAAW,SAAUtF,GACjB,GAAInF,GAAO+D,KAAKoH,MAAMhG,GAClBmG,EAAWvH,KAAKuG,UAAUtK,EAAKtB,GACf,MAAhBsB,EAAKuL,OACLD,EAASnK,QAAQnB,GAEjBsL,EAASE,OAAOxL,SAEb+D,MAAKuG,UAAUtK,EAAKtB,KAE/BR,KAAM,SAAU8B,GACZ,GAAIsL,GAAWpB,GAAGuB,OAKlB,OAJAzL,GAAKtB,GAAKqF,KAAKrF,GACfqF,KAAKuG,UAAUvG,KAAKrF,GAAGuG,YAAcqG,EACrCvH,KAAKrF,KACLqF,KAAKwG,OAAOW,YAAYnH,KAAKsH,UAAUrL,IAChCsL,EAASI,UAGxBvB,UAAUwB,YAAcjB,qBACjBP,aAGXnN,IAAI2G,QAAQ,cAAe,KAAM,QAAS,SAAUuG,EAAIpM,GAYpD,QAAS8N,GAAWxE,GAChB,GAAIkE,GAAWpB,EAAGuB,QACdI,EAAOC,EAAY1E,EAMvB,OALAyE,GAAKnN,GAAKA,EAAGuG,WACb5G,QAAQC,IAAI,OAAQuN,GACpBvB,EAAUuB,EAAKnN,IAAM4M,EACrB5M,IACA6L,EAAOW,YAAYU,EAAWP,UAAUQ,IACjCP,EAASI,QAgEpB,QAASK,GAAUR,GACf,MAAcA,IAAP,KAA0B,IAATA,EAE5B,QAASS,KACL,MAAOC,QAAOC,OAAO,MAEzB,QAASC,GAASjJ,GAAS,MAAwB,gBAAVA,GACzC,QAASkJ,GAAaC,GAElB,QAASC,GAAa5M,EAAKgE,GACnBhE,IACA6M,EAAO7M,GAAO6M,EAAO7M,GAAO6M,EAAO7M,GAAO,KAAOgE,EAAMA,GAH/D,GAA0B8I,GAAtBD,EAASP,GAMb,IAAIG,EAASE,GAET,IAAK,GADDpI,GAAIoI,EAAQI,MAAM,MACbC,EAAI,EAAGA,EAAIzI,EAAE0B,OAAQ+G,IAAK,CAC/B,GAAIC,GAAO1I,EAAEyI,EACbF,GAAIG,EAAKpM,QAAQ,KACjB+L,EAAaM,EAAUC,EAAKF,EAAKG,OAAO,EAAGN,KAAMK,EAAKF,EAAKG,OAAON,EAAI,SAEvE,IAAIO,SAASV,GAChB,IAAK,GAAIW,KAAKX,GACVC,EAAaM,EAAUI,GAAIH,EAAKR,EAAQW,IAGhD,OAAOT,GAEX,QAASU,GAAcZ,GACnB,GAAIa,EACJ,OAAO,UAAUzN,GAEb,GADKyN,IAAYA,EAAad,EAAaC,IACvC5M,EAAM,CACN,GAAIyD,GAAQgK,EAAWN,EAAUnN,GAIjC,OAHc,UAAVyD,IACAA,EAAQ,MAELA,EAEX,MAAOgK,IAGf,QAASpB,GAAY1E,GACjB,GAAI5F,IACA2L,OAAQ,MACR1L,iBAAiB,EACjB2L,aAAc,OACdf,WACAlP,UAEJqE,GAASC,gBAAkB3D,EAAM0D,SAASC,gBAC1CxE,QAAQoQ,OAAO7L,EAAS6K,QAASvO,EAAM0D,SAAS6K,QAAQiB,OACxD,IAAIH,IAAU/F,EAAQ+F,QAAU3L,EAAS2L,QAAQI,aA8BjD,OA7BIzP,GAAM0D,SAAS6K,QAAQc,IACvBlQ,QAAQoQ,OAAO7L,EAAS6K,QAASvO,EAAM0D,SAAS6K,QAAQc,IAE5D9O,QAAQC,IAAI,WAAYR,EAAM0D,UAyB9B4F,EAAUA,EAAUnK,QAAQoQ,OAAO7L,EAAU4F,GAAW5F,EACjD4F,EArKX,GAAIsD,GAA4C,mBAAb,OACnC,KAAKA,EACD,MAAO5M,EAEX,IAAIyM,GAAS,GAAIC,QAAO,2BACpBF,KACA5L,EAAK,EACLkO,EAAY,SAAUY,GAAU,MAAOrB,GAASqB,GAAUA,EAAOD,cAAgBC,GACjFX,EAAO,SAAU3J,GACjB,MAAOiJ,GAASjJ,GAASA,EAAM2J,OAAS3J,EAyE5C,OA7DA0I,GAAW9L,IAAM,SAAU2N,EAAKtQ,GAC5B,MAAOyO,GAAW3O,QAAQoQ,UAAWlQ,OACjCgQ,OAAQ,MACRM,IAAKA,MAGb7B,EAAAA,UAAoB,SAAU6B,EAAKtQ,GAC/B,MAAOyO,GAAW3O,QAAQoQ,UAAWlQ,OACjCgQ,OAAQ,SACRM,IAAKA,MAGb7B,EAAW8B,KAAO,SAAUD,EAAKtQ,GAC7B,MAAOyO,GAAW3O,QAAQoQ,UAAWlQ,OACjCgQ,OAAQ,OACRM,IAAKA,MAGb7B,EAAW1N,KAAO,SAAUuP,EAAKzN,EAAM7C,GACnC,MAAOyO,GAAW3O,QAAQoQ,UAAWlQ,OACjCgQ,OAAQ,OACRnN,KAAMA,EACNyN,IAAKA,MAGb7B,EAAW+B,IAAM,SAAUF,EAAKzN,EAAM7C,GAClC,MAAOyO,GAAW3O,QAAQoQ,UAAWlQ,OACjCgQ,OAAQ,MACRnN,KAAMA,EACNyN,IAAKA,MAGb7B,EAAWgC,MAAQ,SAAUH,EAAKzN,EAAM7C,GACpC,MAAOyO,GAAW3O,QAAQoQ,UAAWlQ,OACjCgQ,OAAQ,QACRnN,KAAMA,EACNyN,IAAKA,MAGb7B,EAAWT,MAAQ,SAAUhG,GACzB,MAAOiG,MAAKD,MAAMhG,EAAEnF,OAExB4L,EAAWP,UAAY,SAAUrL,GAC7B,MAAOoL,MAAKC,UAAUrL,IAE1B4L,EAAWD,YAAcjB,EACzBH,EAAOE,UAAY,SAAUtF,GACzB,GAAI0G,GAAOD,EAAWT,MAAMhG,EAC5B9G,SAAQC,IAAI,YAAauN,EACzB,IAAIP,GAAWhB,EAAUuB,EAAKnN,IAC1B6M,EAASM,EAAKN,QAAU,GAAKM,EAAKN,OAAS,EAC3CsC,EAASZ,EAAcpB,EAAKf,SAASuB,UACxCN,EAAUR,GAAUD,EAASnK,QAAUmK,EAASE,SAC7CxL,KAAM6L,EAAKf,SAAS9K,KACpBqM,QAASwB,EACTtC,OAAQM,EAAKf,SAASS,OACtBuC,WAAYjC,EAAKf,SAASgD,WAC1B3Q,OAAQ0O,EAAK1O,eAEVmN,GAAUuB,EAAKnN,KAEnBkN","file":"wwwroot/js/app.min.js","sourcesContent":["/*global angular,FB */\n\nvar app = angular.module('ullo', ['ngRoute']);\n\n// config parte prima degli altri, ma abbiamo solo alcune dipendenze qua (i provider)\napp.config(['$routeProvider', '$locationProvider', function($routeProvider, $locationProvider) {\n    \n    $routeProvider.when('/', {     \n       controller: 'TestCtrl',\n       templateUrl: 'templates/test.html',\n       title: 'HomePage!'      \n    }).when('/stream', {     \n       controller: 'TestCtrl',\n       templateUrl: 'templates/test.html',\n       title: 'parametro definito da me'      \n    }).when('/dishes/:dishId', {     \n        controller: 'TestCtrl',\n        templateUrl: 'templates/test.html',\n        title: 'Dishes'\n    }).when('/signin', {\r\n        controller: 'SignInCtrl',\n        templateUrl: 'templates/signin-test.html',\n        title: 'Sign In'\r\n    }).when('/404', {\n       controller: 'TestCtrl',\n       templateUrl: 'templates/test.html',\n       title: 'Pagina non trovata!'      \n    });\n    \n    $routeProvider.otherwise('/404');\n    \n    $locationProvider.html5Mode(true);\n    \n}]);\n\n\napp.controller('SignInCtrl', ['$scope', '$timeout', '$http', function ($scope, $timeout, $http) {\r\n\r\n    $scope.model = {};\r\n\r\n    $scope.signin = function () {\r\n\r\n        $scope.busy = true;\r\n\r\n        $http.post('http://ulloapi.wslabs.it/api/users', $scope.model).then(function (success) {\r\n            console.log('signin', success);\r\n        }, function (error) {\r\n            console.log('error', error);\r\n        }).finally(function () {\r\n            $timeout(function () {\r\n                $scope.busy = false;\r\n            }, 1000);\r\n\r\n        });\r\n\r\n\r\n    };\r\n\r\n}]);\n\n\napp.controller('TestCtrl', ['$scope', '$timeout', '$http', function ($scope, $timeout, $http) {\n\n    $scope.model = {\n        label: 'Carica',\n    };\n    \n    $timeout(function() {\n        $scope.model.label = 'Carica Stream';\n    }, 1000);\n\n    $scope.item = {\n        id: 117,\n        user: {\n            userName: 'Fabio Ottaviani',\n            facebookId: '10153341954226947',\n            route: 'fabio-ottaviani'\n        },\n        dish: {\n            price: 5,\n            isVeganFriendly: false,\n            yes: 1,\n            no: 0,\n            created: '2016-04-27T19:13:45.497',\n            vote: {\n                dishId: 19,\n                like: true,\n                created: '2016-04-27T19:14:00.497'\n            },\n            categories: [\n                {\n                    id: 2,\n                    name: 'Piadine',\n                    key: 'piadine'\n                }\n            ],\n            id: 19,\n            name: 'Pizza Margherita',\n            key: 'pizzaMargherita'\n        },\n        picture: {\n            guid: '8fe99743-4ed3-46de-ba13-2c1bd7a45ffe',\n            created: '2016-04-27T19:13:41.02',\n            id: 20,\n            name: '8fe99743-4ed3-46de-ba13-2c1bd7a45ffe',\n            route: '/Media/Files/8fe99743-4ed3-46de-ba13-2c1bd7a45ffe.jpg',\n            key: '8Fe997434Ed346DeBa132C1bd7a45ffe'\n        },\n        created: '2016-04-27T19:13:45.497'\n    };\n    \n    $scope.loadStream = function() {\n        $http.get('http://ulloapi.wslabs.it/api/stream/anonymous').then(function(success){\n            $scope.items = success.data;\n        }, function(error) {\n            console.log('error', error);\n        });\n    };\n\n}]);\n\n\n/*global angular,dynamics*/\n\n/*global angular,FB */\n\nvar LESSON = true;\nvar CONFIG = {\n    CLIENT: window.location.href.indexOf('http://ulloclient.wslabs.it') === 0 ? 'http://ulloclient.wslabs.it' : 'http://dev.ullowebapp:8081',\n    API: (LESSON || window.location.href.indexOf('http://ulloclient.wslabs.it') === 0) ? 'http://ulloapi.wslabs.it' : 'https://localhost:44302',\n    FACEBOOK_APP_ID: window.location.href.indexOf('http://ulloclient.wslabs.it') === 0 ? '1054303094614120' : '1062564893787940',\n    assetTypeEnum: {\n        Unknown: 0,\n        Picture: 1,\n    },\n    IOS: (navigator.userAgent.match(/iPad|iPhone|iPod/g) ? true : false),\n};\n\napp.constant('APP', CONFIG);\n\napp.config(['$routeProvider', '$locationProvider', function ($routeProvider, $locationProvider) {\n\n\t// SECURE ROUTING\n    $routeProvider.when('/stream', {\n        title: 'Stream',\n        templateUrl: 'templates/stream.html',\n        controller: 'StreamCtrl',\n        controllerAs: 'streamCtrl',\n        resolve: {\n            user: ['Users', function(Users){\n                return Users.isLoggedOrGoTo('/splash');\n            }]\n        },\n\n    }).when('/dishes/:dishId', {\n        title: 'Dish',\n        templateUrl: 'templates/dish.html',\n        controller: 'DishCtrl',\n        controllerAs: 'dishCtrl',\n        resolve: {\n            user: ['Users', function(Users){\n                return Users.isLoggedOrGoTo('/splash');\n            }]\n        },\n        isForward: true,\n\n    }).when('/categories/:categoryId', {\n        title: 'Category',\n        templateUrl: 'templates/category.html',\n        controller: 'CategoryCtrl',\n        controllerAs: 'categoryCtrl',\n        resolve: {\n            user: ['Users', function(Users){\n                return Users.isLoggedOrGoTo('/splash');\n            }]\n        },\n        isForward: true,\n\n    }).when('/users/:userRoute', {\n        title: 'User',\n        templateUrl: 'templates/user.html',\n        controller: 'UserCtrl',\n        controllerAs: 'userCtrl',\n        resolve: {\n            user: ['Users', function(Users){\n                return Users.isLoggedOrGoTo('/splash');\n            }]\n        },\n        isForward: true,\n\n    }).when('/post', {\n        title: 'Add Post',\n        templateUrl: 'templates/post.html',\n        controller: 'PostCtrl',\n        controllerAs: 'postCtrl',\n        resolve: {\n            user: ['Users', function(Users){\n                return Users.isLoggedOrGoTo('/splash');\n            }]\n        },\n        isForward: true,\n\n    }).when('/settings', {\n        title: 'Settings',\n        templateUrl: 'templates/settings.html',\n        controller: 'SettingsCtrl',\n        controllerAs: 'settingsCtrl',\n        resolve: {\n            user: ['Users', function(Users){\n                return Users.isLoggedOrGoTo('/splash');\n            }]\n        },\n        isForward: true,\n\n\t// UNSECURE ROUTING\n    }).when('/splash', {\n        title: 'Splash',\n        templateUrl: 'templates/splash.html',\n        controller: 'SplashCtrl',\n        controllerAs: 'splashCtrl',\n\n    }).when('/signin', {\n        title: 'Sign In',\n        templateUrl: 'templates/signin.html',\n        controller: 'SigninCtrl',\n        controllerAs: 'signinCtrl',\n\n    }).when('/signup', {\n        title: 'Sign Up',\n        templateUrl: 'templates/signup.html',\n        controller: 'SignupCtrl',\n        controllerAs: 'signupCtrl',\n\n    }).when('/test', {\n        title: 'Test',\n        templateUrl: 'templates/dishes.html',\n        controller: 'TestCtrl',\n        controllerAs: 'testCtrl',\n\n    }).when('/404', {\n\n        title: 'Error 404',\n        templateUrl: '404.html',\n\n    });\n\n    $routeProvider.otherwise('/stream');\n\n    // HTML5 MODE url writing method (false: #/anchor/use, true: /html5/url/use)\n    $locationProvider.html5Mode(true);\n\n}]);\n\napp.config(['$httpProvider', function ($httpProvider) {\n    \n    $httpProvider.defaults.withCredentials = true;\n    \n}]);\n\n/*global angular,FB */\n\n/*global angular,FB,dynamics*/\n\n\napp.filter('customCurrency', ['$filter', function ($filter) {\n    var legacyFilter = $filter('currency');\n    return function (cost, currency) {\n        return legacyFilter(cost * currency.ratio, currency.formatting);\n    }\n}]);\n\napp.filter('customSize', ['APP', function (APP) {\n    return function (inches) {\n        if (APP.unit === APP.units.IMPERIAL) {\n            var feet = Math.floor(inches / 12);\n            inches = inches % 12;\n            inches = Math.round(inches * 10) / 10;\n            return (feet ? feet + '\\' ' : '') + (inches + '\\'\\'');\n        } else {\n            var meters = Math.floor(inches * APP.size.ratio);\n            var cm = (inches * APP.size.ratio * 100) % 100;\n            cm = Math.round(cm * 10) / 10;\n            return (meters ? meters + 'm ' : '') + (cm + 'cm');\n        }\n    };\n}]);\n\napp.filter('customWeight', ['APP', function (APP) {\n    return function (pounds) {\n        if (APP.unit === APP.units.IMPERIAL) {\n            if (pounds < 1) {\n                var oz = pounds * 16;\n                oz = Math.round(oz * 10) / 10;\n                return (oz ? oz + 'oz ' : '');\n            } else {\n                pounds = Math.round(pounds * 100) / 100;\n                return (pounds ? pounds + 'lb ' : '');\n            }\n        } else {\n            var kg = Math.floor(pounds * APP.weight.ratio / 1000);\n            var grams = (pounds * APP.weight.ratio) % 1000;\n            grams = Math.round(grams * 10) / 10;\n            return (kg ? kg + 'kg ' : '') + (grams + 'g');\n        }\n    };\n}]);\n\napp.filter('customNumber', ['$filter', function ($filter) {\n    var filter = $filter('number');\n    return function (value, precision, unit) {\n        unit = unit || '';\n        return (value ? filter(value, precision) + unit : '-');\n    }\n}]);\n\napp.filter('customDate', ['$filter', function ($filter) {\n    var filter = $filter('date');\n    return function (value, format, timezone) {\n        return value ? filter(value, format, timezone) : '-';\n    }\n}]);\n\napp.filter('customTime', ['$filter', function ($filter) {\n    return function (value, placeholder) {\n        if (value) {\n            return Utils.parseTime(value);\n        } else {\n            return (placeholder ? placeholder : '-');\n        }\n    }\n}]);\n\napp.filter('customDigital', ['$filter', function ($filter) {\n    return function (value, placeholder) {\n        if (value) {\n            return Utils.parseHour(value);\n        } else {\n            return (placeholder ? placeholder : '-');\n        }\n    }\n}]);\n\napp.filter('customString', ['$filter', function ($filter) {\n    return function (value, placeholder) {\n        return value ? value : (placeholder ? placeholder : '-');\n    }\n}]);\n\napp.filter('customEnum', function () {\n    return function (val) {\n        val = val + 1;\n        return val < 10 ? '0' + val : val;\n    };\n});\n\n/*global angular,FB */\n\n/*global angular,FB */\n\n/*global angular,FB */\n\napp.factory('Vector', function() {\n\tfunction Vector(x, y) {\n        this.x = x || 0;\n        this.y = y || 0;\n    }\n    Vector.make = function (a, b) {\n        return new Vector(b.x - a.x, b.y - a.y);\n    };\n    Vector.size = function (a) {\n        return Math.sqrt(a.x * a.x + a.y * a.y);\n    };\n    Vector.normalize = function (a) {\n        var l = Vector.size(a);\n        a.x /= l;\n        a.y /= l;\n        return a;\n    };\n    Vector.incidence = function (a, b) {\n        var angle = Math.atan2(b.y, b.x) - Math.atan2(a.y, a.x);\n        // if (angle < 0) angle += 2 * Math.PI;\n        // angle = Math.min(angle, (Math.PI * 2 - angle));\n        return angle;\n    };\n    Vector.distance = function (a, b) {\n        return Math.sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y));\n    };\n    Vector.cross = function (a, b) {\n        return (a.x * b.y) - (a.y * b.x);\n    };\n    Vector.difference = function (a, b) {\n        return new Vector(b.x - a.x, b.y - a.y);\n    };\n    Vector.prototype = {\n        size: function () {\n            return Vector.size(this);\n        },\n        normalize: function () {\n            return Vector.normalize(this);\n        },\n        incidence: function (b) {\n            return Vector.incidence(this, b);\n        },\n        cross: function (b) {\n            return Vector.cross(this, b);\n        },\n        towards: function (b, friction) {\n            friction = friction || 0.125;\n            this.x += (b.x - this.x) * friction;\n            this.y += (b.y - this.y) * friction;\n            return this;\n        },\n        add: function (b) {\n            this.x += b.x;\n            this.y += b.y;\n            return this;\n        },\n        friction: function (b) {\n            this.x *= b;\n            this.y *= b;\n            return this;\n        },\n        copy: function (b) {\n            return new Vector(this.x, this.y);\n        },\n        toString: function () {\n            return '{' + this.x + ',' + this.y + '}';\n        },\n    };\n    return Vector;\n});\n\napp.factory('Utils', ['Vector', function (Vector) {\n    (function () {\n        var lastTime = 0;\n        var vendors = ['ms', 'moz', 'webkit', 'o'];\n        for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n            window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n            window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame']\n                                       || window[vendors[x] + 'CancelRequestAnimationFrame'];\n        }\n        if (!window.requestAnimationFrame) {\n            window.requestAnimationFrame = function (callback, element) {\n                var currTime = new Date().getTime();\n                var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n                var id = window.setTimeout(function () { callback(currTime + timeToCall); }, timeToCall);\n                lastTime = currTime + timeToCall;\n                return id;\n            };\n        }\n        if (!window.cancelAnimationFrame) {\n            window.cancelAnimationFrame = function (id) {\n                clearTimeout(id);\n            };\n        }\n    }());\n\n    var transformProperty = function detectTransformProperty() {\n        var transformProperty = 'transform',\n            safariPropertyHack = 'webkitTransform';\n\t\tvar div = document.createElement(\"DIV\");\n        if (typeof div.style[transformProperty] !== 'undefined') {\n            ['webkit', 'moz', 'o', 'ms'].every(function(prefix) {\n                var e = '-' + prefix + '-transform';\n                if (typeof div.style[e] !== 'undefined') {\n                    transformProperty = e;\n                    return false;\n                }\n                return true;\n            });\n        } else if (typeof div.style[safariPropertyHack] !== 'undefined') {\n            transformProperty = '-webkit-transform';\n        } else {\n            transformProperty = undefined;\n        }\n        return transformProperty;\n    } ();\n\n    var _isTouch;\n    function isTouch() {\n        if (!_isTouch) {\n            _isTouch = {\n                value: ('ontouchstart' in window || 'onmsgesturechange' in window)\n            }\n        }\n        // console.log(_isTouch);\n        return _isTouch.value;\n    }\n\n    function getTouch(e, previous) {\n        var t = new Vector();\n        if (e.type == 'touchstart' || e.type == 'touchmove' || e.type == 'touchend' || e.type == 'touchcancel') {\n            var touch = null;\n            var event = e.originalEvent ? e.originalEvent : e;\n            var touches = event.touches.length ? event.touches : event.changedTouches;\n            if (touches && touches.length) {\n                touch = touches[0];\n            }\n            if (touch) {\n                t.x = touch.pageX;\n                t.y = touch.pageY;\n            }\n        } else if (e.type == 'click' || e.type == 'mousedown' || e.type == 'mouseup' || e.type == 'mousemove' || e.type == 'mouseover' || e.type == 'mouseout' || e.type == 'mouseenter' || e.type == 'mouseleave') {\n            t.x = e.pageX;\n            t.y = e.pageY;\n        }\n        if (previous) {\n            t.s = Vector.difference(previous, t);\n        }\n        t.type = e.type;\n        return t;\n    }\n\n    function getRelativeTouch(element, point) {\n        var rect = element[0].getBoundingClientRect();\n        var e = new Vector(rect.left,  rect.top);\n        return Vector.difference(e, point);\n    }\n\n    function getClosest(el, selector) {\n        var matchesFn, parent;\n        ['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'].some(function (fn) {\n            if (typeof document.body[fn] == 'function') {\n                matchesFn = fn;\n                return true;\n            }\n            return false;\n        });\n        while (el !== null) {\n            parent = el.parentElement;\n            if (parent !== null && parent[matchesFn](selector)) {\n                return parent;\n            }\n            el = parent;\n        }\n        return null;\n    }\n\n\n    var getNow = Date.now || function() {\n        return new Date().getTime();\n    };\n\n    function throttle(func, wait, options) {\n        // Returns a function, that, when invoked, will only be triggered at most once\n        // during a given window of time. Normally, the throttled function will run\n        // as much as it can, without ever going more than once per `wait` duration;\n        // but if you'd like to disable the execution on the leading edge, pass\n        // `{leading: false}`. To disable execution on the trailing edge, ditto.\n        var context, args, result;\n        var timeout = null;\n        var previous = 0;\n        if (!options) options = {};\n        var later = function () {\n            previous = options.leading === false ? 0 : getNow();\n            timeout = null;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        };\n        return function () {\n            var now = getNow();\n            if (!previous && options.leading === false) previous = now;\n            var remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0 || remaining > wait) {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                }\n                previous = now;\n                result = func.apply(context, args);\n                if (!timeout) context = args = null;\n            } else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    }\n\n    var Style = function() {\n        function Style() {\n            this.props = {\n                scale: 1,\n                hoverScale: 1,\n                currentScale: 1,\n            }\n        }\n        Style.prototype = {\n            set: function (element) {\n                var styles = [];\n                angular.forEach(this, function (value, key) {\n                    if (key !== 'props')\n                        styles.push(key + ':' + value);\n                });\n                element.style.cssText = styles.join(';') + ';';\n            },\n            transform: function (transform) {\n                this[Utils.transformProperty] = transform;\n            },\n            transformOrigin: function (x, y) {\n                this[Utils.transformProperty + '-origin-x'] = (Math.round(x * 1000) / 1000) + '%';\n                this[Utils.transformProperty + '-origin-y'] = (Math.round(y * 1000) / 1000) + '%';\n            },\n        };\n        return Style;\n    }();\n\n    function Utils() {\n    }\n\n\tUtils.transformProperty = transformProperty;\n    Utils.getTouch = getTouch;\n    Utils.getRelativeTouch = getRelativeTouch;\n    Utils.getClosest = getClosest;\n    Utils.throttle = throttle;\n    Utils.Style = Style;\n\n    return Utils;\n}]);\n\n/*global angular*/\n\napp.factory('WebWorker', ['$q', '$http', function ($q, $http) {\n    var isWebWorkerSupported = (typeof (Worker) !== \"undefined\");\n    if (!isWebWorkerSupported) {\n        window.Worker = function () {\n            function Worker(src) {\n                var self = this;\n                $http.get(src, { transformResponse: function (d, h) { return d } }).then(function success(response) {\n                    try {\n                        eval('self.o = function(){ function postMessage(e) { self.onmessage({data:e}); }\\n ' + response.data + ' };');\n                        self.object = new self.o();\n                        self.object.postMessage = function (e) {\n                            self.onmessage({data:e});\n                        }\n                    } catch(e) {\n                        console.log(\"Worker error \", e);\n                    }\n                }, function error(response) {\n                    console.log(\"Worker not found\");\n                });\n            }\n            Worker.prototype = {\n                onmessage: function (e) {\n                    console.log('Worker not implemented');\n                },\n                postMessage: function (e) {\n                    this.object.onmessage({ data: e });\n                }\n            }\n            return Worker;\n        } ();\n    }\n    function WebWorker(src) {\n        var self = this;\n        this.callbacks = {};\n        this.id = 0;\n        this.worker = new Worker(src);\n        this.worker.onmessage = function (e) {\n            self.onmessage(e);\n        };\n    }\n    WebWorker.prototype = {\n        parse: function (e) {\n            return JSON.parse(e.data);\n        },\n        stringify: function (data) {\n            return JSON.stringify(data);\n        },\n        onmessage: function (e) {\n            var data = this.parse(e);\n            var deferred = this.callbacks[data.id];\n            if (data.status !== -1) {\n                deferred.resolve(data);\n            } else {\n                deferred.reject(data);\n            }\n            delete this.callbacks[data.id];\n        },\n        post: function (data) {\n            var deferred = $q.defer();\n            data.id = this.id;\n            this.callbacks[this.id.toString()] = deferred;\n            this.id++;\n            this.worker.postMessage(this.stringify(data));\n            return deferred.promise;\n        },\n    };\n    WebWorker.isSupported = isWebWorkerSupported;\n    return WebWorker;\n}]);\n\napp.factory('$httpAsync', ['$q', '$http', function ($q, $http) {\n    var isWebWorkerSupported = (typeof (Worker) !== \"undefined\");\n    if (!isWebWorkerSupported) {\n        return $http;\n    }\n    var worker = new Worker('/js/workers/http.min.js');\n    var callbacks = {};\n    var id = 0;\n    var lowercase = function (string) { return isString(string) ? string.toLowerCase() : string; };\n    var trim = function (value) {\n        return isString(value) ? value.trim() : value;\n    };\n    function $httpAsync(options) {\n        var deferred = $q.defer();\n        var wrap = getDefaults(options);\n        wrap.id = id.toString();\n        console.log('wrap', wrap);\n        callbacks[wrap.id] = deferred;\n        id++;\n        worker.postMessage($httpAsync.stringify(wrap));\n        return deferred.promise;\n    }\n    $httpAsync.get = function (url, config) {\n        return $httpAsync(angular.extend({}, config || {}, {\n            method: 'GET',\n            url: url\n        }));\n    };\n    $httpAsync.delete = function (url, config) {\n        return $httpAsync(angular.extend({}, config || {}, {\n            method: 'DELETE',\n            url: url\n        }));\n    };\n    $httpAsync.head = function (url, config) {\n        return $httpAsync(angular.extend({}, config || {}, {\n            method: 'HEAD',\n            url: url\n        }));\n    };\n    $httpAsync.post = function (url, data, config) {\n        return $httpAsync(angular.extend({}, config || {}, {\n            method: 'POST',\n            data: data,\n            url: url\n        }));\n    };\n    $httpAsync.put = function (url, data, config) {\n        return $httpAsync(angular.extend({}, config || {}, {\n            method: 'PUT',\n            data: data,\n            url: url\n        }));\n    };\n    $httpAsync.patch = function (url, data, config) {\n        return $httpAsync(angular.extend({}, config || {}, {\n            method: 'PATCH',\n            data: data,\n            url: url\n        }));\n    };\n    $httpAsync.parse = function (e) {\n        return JSON.parse(e.data);\n    };\n    $httpAsync.stringify = function (data) {\n        return JSON.stringify(data);\n    };\n    $httpAsync.isSupported = isWebWorkerSupported;\n    worker.onmessage = function (e) {\n        var wrap = $httpAsync.parse(e);\n        console.log('onmessage', wrap);\n        var deferred = callbacks[wrap.id];\n        var status = wrap.status >= -1 ? wrap.status : 0;\n        var getter = headersGetter(wrap.response.headers);\n        (isSuccess(status) ? deferred.resolve : deferred.reject)({\n            data: wrap.response.data, // !!!! JSON.parse(wrap.response.data),\n            headers: getter,\n            status: wrap.response.status,\n            statusText: wrap.response.statusText,\n            config: wrap.config,\n        });\n        delete callbacks[wrap.id];\n    }\n    return $httpAsync;\n    function isSuccess(status) {\n        return 200 <= status && status < 300;\n    }\n    function createMap() {\n        return Object.create(null);\n    }\n    function isString(value) { return typeof value === 'string'; }\n    function parseHeaders(headers) {\n        var parsed = createMap(), i;\n        function fillInParsed(key, val) {\n            if (key) {\n                parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n            }\n        }\n        if (isString(headers)) {\n            var a = headers.split('\\n');\n            for (var j = 0; j < a.length; j++) {\n                var line = a[j];\n                i = line.indexOf(':');\n                fillInParsed(lowercase(trim(line.substr(0, i))), trim(line.substr(i + 1)));\n            }\n        } else if (isObject(headers)) {\n            for (var p in headers) {\n                fillInParsed(lowercase(p), trim(headers[p]));\n            }\n        }\n        return parsed;\n    }\n    function headersGetter(headers) {\n        var headersObj;\n        return function (name) {\n            if (!headersObj) headersObj = parseHeaders(headers);\n            if (name) {\n                var value = headersObj[lowercase(name)];\n                if (value === void 0) {\n                    value = null;\n                }\n                return value;\n            }\n            return headersObj;\n        };\n    }\n    function getDefaults(options) {\n        var defaults = {\n            method: 'GET',\n            withCredentials: false,\n            responseType: 'json',\n            headers: {},\n            config: {}\n        }\n        defaults.withCredentials = $http.defaults.withCredentials;\n        angular.extend(defaults.headers, $http.defaults.headers.common);\n        var method = (options.method || defaults.method).toLowerCase();\n        if ($http.defaults.headers[method]) {\n            angular.extend(defaults.headers, $http.defaults.headers[method]);\n        }\n        console.log('defaults', $http.defaults);\n        // defaults = angular.extend(defaults, $http.defaults);\n        /*\n    method{string}:                     HTTP method (e.g. 'GET', 'POST', etc)\n    url:{string}:                       Absolute or relative URL of the resource that is being requested.\n    params:{Object.<string|Object>}:    Map of strings or objects which will be serialized with the paramSerializer and appended as GET parameters.\n\n    data:{string|Object}:               Data to be sent as the request message data.\n    headers:{Object}:                   Map of strings or functions which return strings representing HTTP headers to send to the server. If the return value of a function is null, the header will not be sent. Functions accept a config object as an argument.\n\n    xsrfHeaderName:{string}:            Name of HTTP header to populate with the XSRF token.\n    xsrfCookieName:{string}:            Name of cookie containing the XSRF token.\n    transformRequest:{function(data, headersGetter)|Array.<function(data, headersGetter)>}:         transform function or an array of such functions. The transform function takes the http request body and headers and returns its transformed (typically serialized) version. See Overriding the Default Transformations\n\n    transformResponse:{function(data, headersGetter, status)|Array.<function(data, headersGetter, status)>}:    transform function or an array of such functions. The transform function takes the http response body, headers and status and returns its transformed (typically deserialized) version. See Overriding the Default TransformationjqLiks\n\n    paramSerializer:{string|function(Object<string,string>):string}:        A function used to prepare the string representation of request parameters (specified as an object). If specified as string, it is interpreted as function registered with the $injector, which means you can create your own serializer by registering it as a service. The default serializer is the $httpParamSerializer; alternatively, you can use the $httpParamSerializerJQLike\n\n    cache:{boolean|Cache}:              If true, a default $http cache will be used to cache the GET request, otherwise if a cache instance built with $cacheFactory, this cache will be used for caching.\n\n    timeout:{number|Promise}:           timeout in milliseconds, or promise that should abort the request when resolved.\n    withCredentials:{boolean}:          whether to set the withCredentials flag on the XHR object. See requests with credentials for more information.\n\n    responseType:{string}:              see XMLHttpRequest.responseType.\n        */\n        options ? options = angular.extend(defaults, options) : defaults;\n        return options;\n    }\n}]);\n"],"sourceRoot":"/source/"}